<h1>Transactions</h1>
<table border="1">
    <tr>
        <th>ID</th>
        <th>Farmer</th>
        <th>Crop</th>
        <th>Market</th>
        <th>Quantity</th>
        <th>Price</th>
        <th>Actions</th>
    </tr>
    {% for tx in transactions %}
    <tr>
        <td>{{ tx.transaction_id }}</td>
        <td>{{ tx.farmer_name }}</td>
        <td>{{ tx.crop_name }}</td>
        <td>{{ tx.market_name }}</td>
        <td>{{ tx.quantity }}</td>
        <td>{{ tx.price }}</td>
        <td>
            <a href="{{ url_for('update_transaction', transaction_id=tx.transaction_id) }}">Edit</a>
            <a href="{{ url_for('delete_transaction', transaction_id=tx.transaction_id) }}">Delete</a>
        </td>
    </tr>
    {% endfor %}
</table>

<h2>Add Transaction</h2>
<form method="POST" action="{{ url_for('add_transaction') }}">
    <label>Farmer:</label>
    <select name="farmer_id" required>
        {% for farmer in farmers %}
        <option value="{{ farmer.farmer_id }}">{{ farmer.farmer_name }}</option>
        {% endfor %}
    </select><br>

    <label>Crop:</label>
    <select name="crop_id" required>
        {% for crop in crops %}
        <option value="{{ crop.crop_id }}">{{ crop.crop_name }}</option>
        {% endfor %}
    </select><br>

    <label>Market:</label>
    <select name="market_id" required>
        {% for market in markets %}
        <option value="{{ market.market_id }}">{{ market.market_name }}</option>
        {% endfor %}
    </select><br>

    <label>Quantity:</label><input type="number" step="0.01" name="quantity" required><br>
    <label>Price:</label><input type="number" step="0.01" name="price" required><br>
    <button type="submit">Add Transaction</button>
</form>
